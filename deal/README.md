# deal

Сервис по работе с базой данных.

Окружение и запуск
-
Приложение использует openapi generator, поэтому перед запуском необходимо сгенерировать нужные файлы. Это можно сделать maven командой `mvn clean install
`

API
- `/deal/application` - расчёт возможных условий кредита
- `/deal/offer` - выбор одного из предложений
- `/deal/calculate/{applicationId}` - завершение регистрации и полный подсчёт кредита

При запросах данный сервис обращается к сервису `conveyor`, в котором производятся расчеты.

Пример работы
- 
1. Прескоринг

Для начало нужно получить возможные варианты кредита, отправив GET запрос.

![383049465fc931f6add63860ff2a0dcb](https://github.com/BrandonRTL/bank-app/assets/43331560/6e7e6709-0f00-4ebc-b62b-465f454b24f1)

Ответ: 

![e762f58d8fce458ff98d76b900d7e90f](https://github.com/BrandonRTL/bank-app/assets/43331560/ad18ac81-883a-4a99-aafb-a2bc6d86daca)

2. Сохрание предложения

Один из 4 возможных вариантов кредита из прошлого запроса необходимо вставить в тело второго запроса.

![b74dab8db087d91f82f08d70b7c05c99](https://github.com/BrandonRTL/bank-app/assets/43331560/da5c612a-38df-437a-a35b-e0a5254c9390)

В результате оффер будет сохранен в базе данных.

3. Завершение регистрации

Теперь необходимо отправить полную информацию о клиенте по соответствующему applicatoinId.

![93b7c9e3a21002e1e3da8f8e16eee843](https://github.com/BrandonRTL/bank-app/assets/43331560/b36b0093-1159-45ba-9daa-4198a5c96b10)

В конечком итоге в базе данных будет сохранен кредит с высчитанными параметрами.

![c83238a627ccd96fefb1c63b033fb415](https://github.com/BrandonRTL/bank-app/assets/43331560/98774bff-0443-4655-bf3e-9f479457310b)




